/**/ï»¿_jsload&&_jsload('marker', 'D.extend(cW.prototype,{initialize:function(e){this.map=e;this._addDom();this._bind();if(this.domElement){this.domElement.hashCode=this.hashCode}D.BaseClass.call(this,this.hashCode);if(!this._visible){D.hide(this.domElement)}this.dispatchEvent(new bc("ondomready"));return this.domElement},_bind:function(){if(!this.domElement){return}var e=this;var T=this.map;function i(hW,hV){var hU=hW.srcElement||hW.target;var hT=hW.clientX||hW.pageX;var hY=hW.clientY||hW.pageY;if(hW&&hV&&hT&&hY&&hU){var hX=D.Dom.getOffset(T.container);hV.pixel=new ek(hT-hX.left,hY-hX.top);hV.point=T.pixelToPointIn(hV.pixel);hV.latLng=T.pixelToPoint(hV.pixel);return hV}else{return hV}}D.on(this.domElement,"mouseover",function(hT){if(!e._dragstarted){e.dispatchEvent(i(hT,new bc("onmouseover").inherit(hT)))}});D.on(this.domElement,"mouseout",function(hT){if(!e._dragstarted){e.dispatchEvent(i(hT,new bc("onmouseout").inherit(hT)))}});if(f6()){D.on(this.domElement,"touchstart",function(hT){e._bind._touchStartPos=new ek(hT.changedTouches[0].clientX,hT.changedTouches[0].clientY)});D.on(this.domElement,"touchend",function(hV){var hU=new Date().getTime();var hT=new ek(hV.changedTouches[0].clientX,hV.changedTouches[0].clientY);if(Math.abs(hT.x-e._bind._touchStartPos.x)>10||Math.abs(hT.y-e._bind._touchStartPos.y)>10){e._bind._touchStartPos=null;return}e.dispatchEvent(i(hV,new bc("onclick").inherit(hV)));if(e._config&&typeof e._config.click==="function"){e._config.click()}if(e.map&&hU-e._dblclickTime<e.map.config.clickInterval){e.dispatchEvent(i(hV,new bc("ondblclick").inherit(hV)))}e._dblclickTime=hU})}D.on(this.domElement,"click",function(hU){if(window.TouchEvent&&f6()){return}var hT=hU.srcElement||hU.target;while(hT){if(hT===e.domElement){if(e.toString()!=="Marker"||e.toString()==="Marker"&&(!e._lastPt||e._lastPt&&e.getPoint().equals(e._lastPt))){if(e.addStat&&typeof e.addStat==="function"){e.addStat()}e.dispatchEvent(i(hU,new bc("onclick").inherit(hU)))}break}else{if(e.map&&e.map.infoWindowDoms&&hT===e.map.infoWindowDoms.popDom){break}}hT=hT.parentNode}});D.on(this.domElement,"mousedown",function(hT){if(e.toString()==="Marker"){e._lastPt=e.getPoint()}e.dispatchEvent(i(hT,new bc("onmousedown").inherit(hT)))});D.on(this.domElement,"mouseup",function(hT){e.dispatchEvent(i(hT,new bc("onmouseup").inherit(hT)))});D.on(this.domElement,"dblclick",function(hU){e.dispatchEvent(i(hU,new bc("ondblclick").inherit(hU)));var hT=hU.target||hU.srcElement||{};if(hT.tagName!=="circle"&&hT.tagName!=="oval"){dc(hU)}});D.on(this.domElement,"contextmenu",function(hT){e.dispatchEvent(i(hT,new bc("onrightclick").inherit(hT)))})},hide:function(){if(this._visible===false){return false}this._visible=false;D.hide(this.domElement);if(this.infoWindow&&this.infoWindow.overlay&&this.infoWindow.overlay===this){this.closeInfoWindow();this.closeSimpleInfoWindow()}return true},show:function(){if(this._visible===true){return false}this._visible=true;if(this._visibleInternal){D.show(this.domElement);return true}else{return false}},setStyle:function(e){if(!this.domElement){return}if(this.siblingElement){this.siblingElement.style.cssText=this.siblingElement.style.cssText+";"+e}else{this.domElement.style.cssText=this.domElement.style.cssText+";"+e}},getPoint:function(T,hT){if(!T){return this.point}else{var e=hT?hT.width:0;var hU=hT?hT.height:0;if(this.map){var i=this.map.pointToPixelIn(this.point);if(this._config&&this._config.offset){i.x=i.x+this._config.offset.width+e;i.y=i.y+this._config.offset.height+hU}else{i.x=i.x+e;i.y=i.y+hU}return this.map.pixelToPointIn(i)}}},setZIndex:function(e){var i=this;i.zIndex=e;i._updateDomZIndex()},_updateDomZIndex:function(){var i=this;var e;if(typeof i.zIndex!=="undefined"){e=i.zIndex}else{e=0;if(i.map&&i.getPoint()){var T=i.getPoint()?i.getPoint().lat:0;e=bm.getZIndex(T,i.map.config.coordType)+(i._config.baseZIndex||0)}}if(i.domElement){i.domElement.style.zIndex=e}},isVisible:function(){if(!this.map){return false}if(this.map._renderType!=="webgl"&&!this.domElement){return false}return !!this._visible},showInternal:function(){if(this._visibleInternal===true){return false}if(this.collisionDetectionFailed===true){return false}this._visibleInternal=true;if(this._visible===true){D.show(this.domElement)}return true},hideInternal:function(e){if(this._visibleInternal===false){return false}this._hideInternalReason=e;this._visibleInternal=false;D.hide(this.domElement);if(this.infoWindow&&this.infoWindow.overlay&&this.infoWindow.overlay===this){this.closeInfoWindow();this.closeSimpleInfoWindow()}return true}});ds.TOP_ZINDEX=bm.getZIndex(-90)+1000000;ds.DRAG_ZINDEX=ds.TOP_ZINDEX+1000000;window.BMAP_ANIMATION_RAISEUP=3;window.BMAP_ANIMATION_DROPDOWN=4;ds._addDragCrossImg=function(T,e){if(!ds._dragCrossImg){ds._dragCrossImg=U("img",{src:e4.imgPath+"drag_cross.png",width:13,height:9});ds._dragCrossImg.style.position="absolute";if(D.Browser.ie===6){delete ds._dragCrossImg;var hT=ds._dragCrossImg=U("div");var i=hT.style;i.position="absolute";i.width="13px";i.height="9px";i.filter=\'progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=image,src="\'+e4.imgPath+\'drag_cross.png")\'}}var i=ds._dragCrossImg.style;i.left=T.width-6+"px";i.top=T.height-5+"px";e.appendChild(ds._dragCrossImg)};ds._removeDragCrossImg=function(){if(ds._dragCrossImg&&ds._dragCrossImg.parentNode){ds._dragCrossImg.parentNode.removeChild(ds._dragCrossImg)}};D.extend(ds.prototype,{initialize:function(e){cW.prototype.initialize.call(this,e);if(!this._visible){if(this.siblingElement){D.hide(this.siblingElement)}}this.setPoint(this.point);this.setIcon(this._config.icon,this._config.startAnimation);this.setLabel(this._config.label);this.setTitle(this._config.title);if(this._rotation!==0){this.setRotation(this._rotation)}this._initDrag();return this.domElement},_addDom:function(){var e=this.map;if(this.domElement&&this.domElement.parentNode){this.domElement.parentNode.removeChild(this.domElement);this.domElement=null}this.domElement=dJ(e.getPanes().markerMouseTarget,this._msTargetRender());if(e.getMapType()==="B_EARTH_MAP"||e._renderType==="webgl"){return}this.siblingElement=dJ(e.getPanes().markerPane,this._markerRender());this.siblingElement.hashCode=this.getHashCode()},_msTargetRender:function(){var e=[\'<div class="BMap_Marker BMap_noprint" unselectable="on" \'];e.push(this._config.title?\'title="\'+this._config.title+\'"\':\'""\');e.push(\' style="position:absolute;padding:0;margin:0;border:0;width:0;height:0;-moz-user-select:none;\');e.push(this._config.clickable?"cursor:pointer;":"");e.push("width:"+this._config.icon.size.width+"px;");e.push("height:"+this._config.icon.size.height+"px;");e.push(\'"></div>\');return e.join("")},_markerRender:function(){var e=[\'<div class="BMap_Marker" unselectable="on" \'];e.push(\'style="position:absolute;padding:0;margin:0;border:0;\');e.push(\'width:0;height:0;-moz-user-select:none"></div>\');return e.join("")},draw:function(T){if(!this.domElement){return}T=T||{};var i=this._getPixPos(T.zoom,T.center);if(i.onBack||i.outOfFrustum){this.hideInternal("out-of-view");return}this.showInternal();this.domElement.style.left=i.x+"px";this.domElement.style.top=i.y+"px";if(this.siblingElement){this.siblingElement.style.left=i.x+"px";this.siblingElement.style.top=i.y+"px"}else{if(this.map.getMapType()!=="B_EARTH_MAP"&&this.map._renderType!=="webgl"){this.initialize(this.map)}}if(this.infoWindow!==null&&this.infoWindow.isOpen()){this.infoWindow.setPosition(T.center,T.zoom)}},_getPixPos:function(T,e){var hU=this._config.offset||new ea(0,0);var hT=this._config.icon.offset||new ea(0,0);var i=this.map.pointToOverlayPixelIn(this.getPoint(),{zoom:T,center:e,fixPosition:true});i.x+=hU.width-hT.width;i.y+=hU.height-hT.height;return i},_draw:function(){if(this.map){this.domElement=this.initialize(this.map)}},remove:function(){if(this.siblingElement&&this.siblingElement.parentNode){this.siblingElement.parentNode.removeChild(this.siblingElement)}if(this.infoWindow&&this.infoWindow.overlay&&this.infoWindow.overlay===this){this.closeInfoWindow();this.closeSimpleInfoWindow();this.infoWindow=null}this.siblingElement=null;this.iconDom=null;if(this._config.label){var i=this._config.label;i.setMarker(null);this.map.removeOverlay(i);this._config.label=null}cW.prototype.remove.call(this);var e=new bc("onstatus_change");e.action="remove";e.overlay=this;this.fire(e)},hide:function(){if(cW.prototype.hide.call(this)===false){return false}if(this.siblingElement){D.hide(this.siblingElement)}if(this._config.label){D.hide(this._config.label.domElement)}var e=new bc("onstatus_change");e.overlay=this;e.action="hide";this.fire(e);return true},show:function(){if(cW.prototype.show.call(this)===false){if(this._hideInternalReason==="out-of-view"){var e=new bc("onstatus_change");e.overlay=this;e.action="show";this.fire(e)}return false}this.draw();if(this.siblingElement){D.show(this.siblingElement)}if(this._config.label){D.show(this._config.label.domElement)}var e=new bc("onstatus_change");e.overlay=this;e.action="show";this.fire(e);return true},showInternal:function(){if(cW.prototype.showInternal.call(this)===false){return false}if(!this._visible){return false}if(this.siblingElement){D.show(this.siblingElement)}if(this._config.label){this._config.label.showInternal()}return true},hideInternal:function(e){if(cW.prototype.hideInternal.call(this,e)===false){return false}if(this.siblingElement){D.hide(this.siblingElement)}if(this._config.label){this._config.label.hideInternal(e)}return true},setIcon:function(hW,hU){if(!hW){return}var hX=this._config.icon.getCurrentImageUrl();var hT=hW.getCurrentImageUrl()!==hX;this._config.icon=hW;if(!this.map||!this.domElement){return}var i=this.map;if(this.iconDom&&this.siblingElement){this.siblingElement.removeChild(this.iconDom);this.iconDom=null}if(this.domElement){var hV=this.domElement.style;hV.width=hW.size.width+"px";hV.height=hW.size.height+"px";hV.transformOrigin=hW.anchor.width+"px "+hW.anchor.height+"px"}if(this.siblingElement){var T=this.iconDom=U("div",{"class":hU||""});var hY=T.style;hY.position="absolute";hY.padding=hY.margin="0";hY.width=hW.size.width+"px";hY.height=hW.size.height+"px";hY.overflow="hidden";if(hW.imageUrl){T.innerHTML=hW.getHTML()}else{if(hW.imageDom){T.appendChild(hW.imageDom);if(hW.imageSize){hW.imageDom.style.width=hW.imageSize.width+"px";hW.imageDom.style.height=hW.imageSize.height+"px"}}}T.galleryImg=false;this.siblingElement.style.transformOrigin=hW.anchor.width+"px "+hW.anchor.height+"px";this.siblingElement.appendChild(this.iconDom)}this.textureCoord=this.textureCoordGLMap=null;this.draw();var e=new bc("onstatus_change");e.overlay=this;e.action="setIcon";e.imageUrlChanged=hT;this.fire(e)},setRotation:function(i){while(i<0){i+=360}this._rotation=i%360;var e=new bc("onstatus_change");e.overlay=this;e.action="setRotation";this.fire(e);if(!this.map||!this.domElement){return}this.domElement.style.transform="rotate("+i+"deg)";if(this.siblingElement){this.siblingElement.style.transform="rotate("+i+"deg)"}},setLabel:function(e){if(!(e instanceof aO)){return}e._config.enableMassClear=this._config.enableMassClear;this._config.label=e;var i=this;if(!this._config.label._binded){this._config.label._binded=true;this._config.label.addEventListener("remove",function(){i._config.label=null})}if(!this.map){return}e.setPoint(this.point);this.map.addOverlay(e);e.setMarker(this)},_initDrag:function(){if(!this.domElement||this.domElement._binded){return}this.domElement._binded=true;var T=this.map;var hX=this;var hV=0;var hU=0;var hT=0;var hY={x:0,y:0};function hW(h0,hZ){hZ.pixel=h0.pixel;hZ.point=h0.point;hZ.latLng=h0.latLng;return hZ}function i(h1){var h0=h1.clientX;var hZ=h1.clientY;if(h1.changedTouches){h0=h1.changedTouches[0].clientX;hZ=h1.changedTouches[0].clientY}return new ek(h0,hZ)}var e=new ek(0,0);this.dragStart=function(h1){e=i(h1);if(!hX._config.enableDragging){return}hX._isDragging=true;var h0=T.pointToPixelIn(hX.point);var hZ=i(h1);hV=hZ.x-h0.x;hU=hZ.y-h0.y;hT=new Date().getTime();if(hX.map){hX.map.temp._draggingMarker=hX}D.on(document,"mousemove",hX.dragIng);D.on(document,"mouseup",hX.dragEnd);D.on(document,"touchmove",hX.dragIng);D.on(document,"touchend",hX.dragEnd);if(hX.domElement&&hX.domElement.setCapture){hX.domElement.setCapture()}};this.dragIng=function(h5){var h0=i(h5);if(h0.equals(e)){return}e=h0;if(!hX._isDragging){return}var h1=i(h5);var h2=new ek((h1.x-hV),(h1.y-hU));hY=h2;hX._draggingMovePixel=h2;if((hX._config.restrictDraggingArea&&(h2.x>15&&h2.x<hX.map.width-15)&&(h2.y>30&&h2.y<hX.map.height-15))||!hX._config.restrictDraggingArea){var hZ=hX.map.pixelToPointIn(h2);var h3=hX.map.pixelToPoint(h2);var h4={pixel:h2,point:hZ,latLng:h3};hX._panByX=hX._panByY=0;if(h2.x<=20||h2.x>=hX.map.width-20||h2.y<=50||h2.y>=hX.map.height-10){if(h2.x<=20){hX._panByX=8}else{if(h2.x>=hX.map.width-20){hX._panByX=-8}}if(h2.y<=50){hX._panByY=8}else{if(h2.y>=hX.map.height-10){hX._panByY=-8}}if(!hX._draggingMoveTimer){hX._draggingMoveTimer=setInterval(function(){T.panBy(hX._panByX,hX._panByY,{newAnimation:true});var h6=T.pixelToPointIn(hX._draggingMovePixel);hX.setPoint(h6)},30)}}else{if(hX._draggingMoveTimer){clearInterval(hX._draggingMoveTimer);hX._draggingMoveTimer=null}hX.setPoint(hZ)}if(!hX._dragstarted){hX.dispatchEvent(hW(h4,new bc("ondragstart").inherit(h5)));hX._dragstarted=true;if(hX._config.raiseOnDrag){hX.setAnimation(BMAP_ANIMATION_RAISEUP);ds._addDragCrossImg(hX._config.icon.offset,hX.siblingElement)}}hX.dispatchEvent(hW(h4,new bc("ondragging").inherit(h5)))}};this.dragEnd=function(hZ){if(hX.domElement&&hX.domElement.releaseCapture){hX.domElement.releaseCapture()}hX._isDragging=false;if(hX.map){hX.map.temp._draggingMarker=null}D.un(document,"mousemove",hX.dragIng);D.un(document,"mouseup",hX.dragEnd);D.un(document,"touchmove",hX.dragIng);D.un(document,"touchend",hX.dragEnd);hV=hU=0;if(hX._draggingMoveTimer){clearInterval(hX._draggingMoveTimer);hX._draggingMoveTimer=null}if(hY.x>2||hY.y>2){hX._dragstarted=false;hX.dispatchEvent(hW({pixel:hX.map.pointToPixelIn(hX.getPoint()),point:hX.getPoint(),latLng:eo.convertMC2LL(hX.getPoint())},new bc("ondragend").inherit(hZ)));if(hX._config.raiseOnDrag){hX.setAnimation(BMAP_ANIMATION_DROPDOWN);ds._removeDragCrossImg()}hY.x=hY.y=0}hX._updateDomZIndex()};this.delVertexMarker=function(hZ){dc(hZ);hX.dispatchEvent(hW({pixel:hX.map.pointToPixelIn(hX.getPoint()),point:hX.getPoint(),latLng:eo.convertMC2LL(hX.getPoint())},new bc("onmarkerdelvertex").inherit(hZ)))};D.on(this.domElement,"mousedown",this.dragStart);D.on(this.domElement,"touchstart",this.dragStart);D.on(this.domElement,"contextmenu",this.delVertexMarker)},setPoint:function(e){if(!e){return}this.point=this._config.point=new hu(e.lng,e.lat);this.latLng=eo.convertMC2LL(e);if(this._config.label){this._config.label.setPoint(this.point)}this.draw();this._updateDomZIndex();var i=new bc("onstatus_change");i.overlay=this;i.action="setPoint";this.fire(i)},_updateDomZIndex:function(){var i=this;var e;if(i._isDragging===true){e=ds.DRAG_ZINDEX}else{if(i._config.isTop===true){e=ds.TOP_ZINDEX+(i._addi||0)}else{if(typeof i.zIndex!=="undefined"){e=i.zIndex}else{e=0;if(i.map&&i.getPoint()){e=bm.getZIndex(i.getPoint().lat,i.map.config.coordType)+i._config.baseZIndex}}}}if(i.domElement){i.domElement.style.zIndex=e}if(i.siblingElement){i.siblingElement.style.zIndex=e}this._zIndex=e},setTop:function(T,i){this._config.isTop=!!T;if(T){this._addi=i||0}this._updateDomZIndex();var e=new bc("onstatus_change");e.overlay=this;e.action="setTop";this.fire(e)},setTitle:function(e){this._config.title=e||"";if(this.domElement){this.domElement.title=this._config.title}},setOffset:function(i){if(!i){return}this._config.offset=i;this.setPoint(this.getPoint());var e=new bc("onstatus_change");e.overlay=this;e.action="setOffset";this.fire(e)},setAnimation:function(i){var e=this;eb.load("markeranimation",function(){e._setAnimation(i)},true)},_setAnimation:function(i){if(!this.iconDom){return}this._clearAnimation(i!==null);var e=bC[i];if(!e){return}this._execJSAnimation(i)},_clearAnimation:function(i){if(i){if(this._aniObj){this._aniObj.stop();this._aniObj=null}this.iconDom.style.top=this.iconDom.style.left="0px";if(this.shadowDom){this.shadowDom.style.top=this.shadowDom.style.left="0px"}}else{if(this._aniObj){var e=this;this._aniObj.setFinishCallback(function(){e._aniObj=null})}}},_execJSAnimation:function(hV){var hX=this.iconDom.style;var e=false;var hU;if(this.shadowDom){e=true;hU=this.shadowDom.style}var T=bC[hV];var hZ=this;var hY=T.iconAnis.length,h2=T.options.duration,h1=hZ._aniObj=new p({duration:0,delay:p.INFINITE});var h0=T.iconAnis;var hT=T.shadowAnis;hX.top=h0[0].translate[1]+"px";if(e){hU.left=hT[0].translate[0]+"px";hU.top=hT[0].translate[1]+"px"}for(var hW=1;hW<hY;hW++){(function(){var h7=[h0[hW].translate[0]-h0[hW-1].translate[0],h0[hW].translate[1]-h0[hW-1].translate[1]];var h6=[h0[hW-1].translate[0],h0[hW-1].translate[1]];if(e){var h4=[hT[hW].translate[0]-hT[hW-1].translate[0],hT[hW].translate[1]-hT[hW-1].translate[1]];var h3=[hT[hW-1].translate[0],hT[hW-1].translate[1]]}var h5=co[h0[hW-1].timingFunc];var i=function(){};if(hW===hY-1){if(T.options.loop!==p.INFINITE){i=function(){hZ._aniObj=null}}else{i=function(){hZ._aniObj.start()}}}h1.add(new p({duration:(T.iconAnis[hW].percent-h0[hW-1].percent)*h2,fps:40,delay:p.INFINITE,transition:h5,render:function(h8){if(hZ.iconDom){hZ.iconDom.style.top=h6[1]+Math.round(h8*h7[1])+"px"}if(e&&hZ.shadowDom){hZ.shadowDom.style.left=h3[0]+Math.round(h8*h4[0])+"px";hZ.shadowDom.style.top=h3[1]+Math.round(h8*h4[1])+"px"}},finish:i}))})()}h1.start()},getVertexInfoForGL:function(){var T=this._config.icon.getRenderData();var e=this.point;var hU=aG(e.lng);var i=aG(e.lat);var hT=[];this._buildVertexForEachRender(hU,i,hT);return{vertex:hT,textureCoordGLMap:T.textureCoordGLMap}},_buildVertexForEachRender:function(h0,hZ,hX){var hY=this._config.icon;var hT=this._config.offset;var e=0;var hW=[];hW[0]=[-hY.offset.width+hT.width,-(hY.size.height-hY.offset.height)-hT.height];hW[1]=[hY.size.width-hY.offset.width+hT.width,-(hY.size.height-hY.offset.height)-hT.height];hW[2]=[hY.size.width-hY.offset.width+hT.width,hY.offset.height-hT.height];hW[3]=[-hY.offset.width+hT.width,hY.offset.height-hT.height];if(this._rotation!==0){for(var hU=0;hU<hW.length;hU++){var T=vec2.fromValues(hW[hU][0],hW[hU][1]);vec2.rotate(T,T,[0,0],dL(-this._rotation));hW[hU][0]=T[0];hW[hU][1]=T[1]}}while(e<6){var hV=e<3?e:(e===3?e-3:e-2);hX.push([h0[0],hZ[0],h0[1],hZ[1],hW[hV][0],hW[hV][1]]);e++}}});var hQ=hd.prototype;hQ.getHTML=function(){if(!this.imageUrl){return""}var e=[];e.push(\'<img src="\'+this.imageUrl+\'" \');if(this.srcSet){e.push(\'srcset="\'+this.srcSet+\'" \')}e.push(\'style="left:\'+(-this.imageOffset.width)+"px;");e.push("top:"+(-this.imageOffset.height)+"px;");if(this.imageSize){this.imageSize.width&&e.push("width:"+this.imageSize.width+"px;");this.imageSize.height&&e.push("height:"+this.imageSize.height+"px;")}e.push(\'position:absolute;"/>\');return e.join("")};D.extend(aO.prototype,{_addDom:function(){var i=this._config;var hT=this.content;var e=U("label",{"class":"BMapLabel",unselectable:"on"});if(i.title){e.title=i.title}var T=e.style;T.position="absolute";T.MozUserSelect="none";if(i.width===0||i.width==="auto"){T.display="inline"}else{T.width=i.width+"px";T.display="block";T.overflow="hidden"}if(!D.Browser.ie){T.cursor="inherit"}e.innerHTML=hT;this.map.getPanes().labelPane.appendChild(e);this.domElement=e;this.setStyle(this._config.styles);return e},setPoint:function(e){if(e){this.point=this._config.point=e.clone();this.draw()}},draw:function(T){if(this.domElement&&this.getPoint()){var hT=this._config.offset||new ea(0,0);T=T||{};var i=this.map.pointToOverlayPixelIn(this.getPoint(),{zoom:T.zoom,center:T.center,fixPosition:true});if(i.onBack||i.outOfFrustum){this.hideInternal("out-of-view")}else{this.showInternal();this.domElement.style.left=(i.x+hT.width)+"px";this.domElement.style.top=(i.y+hT.height)+"px";this._updateDomZIndex()}}},_draw:function(){if(this.map){if(!this.domElement){this.domElement=this.initialize(this.map)}this.draw()}},setContent:function(e){this.content=e;if(this.domElement){this.domElement.innerHTML=e}},setOpacity:function(e){if(e>=0&&e<=1){this._config.opacity=e}if(this.domElement){this.domElement.style.opacity=e}},setOffset:function(e){if(!e){return}this._config.offset=new ea(e.width,e.height);this.draw()},setStyle:function(i){i=i||{};this._config.styles=D.extend(this._config.styles,i);if(this.domElement){for(var hT in i){try{this.domElement.style[hT]=i[hT]}catch(T){}}}},setTitle:function(e){this._config.title=e||"";if(this.domElement){this.domElement.title=this._config.title}}});D.extend(be.prototype,{initialize:function(e){cW.prototype.initialize.call(this,e);return this.domElement},_getPixPos:function(hU,i){var hT=this.map.getZoomUnits();var e=this._config.height/hT/2;var T=this.map.pointToPixelIn(this.getPoint(),{zoom:hU,center:i,height:e});return T},_draw:function(){if(this.map){this.domElement=this.initialize(this.map)}},_addDom:function(){var e=this.map;if(this.domElement&&this.domElement.parentNode){this.domElement.parentNode.removeChild(this.domElement);this.domElement=null}this.domElement=dJ(e.getPanes().markerMouseTarget,this._msTargetRender());if(e.getMapType()==="B_EARTH_MAP"||e._renderType==="webgl"){return}},remove:function(){cW.prototype.remove.call(this);var e=new bc("onstatus_change");e.action="remove";e.overlay=this;this.fire(e)},_msTargetRender:function(){var e=[\'<div class="BMap_Marker BMap_noprint" unselectable="on" \'];e.push(\' style="position:absolute;padding:0;margin:0;border:0;width:0;height:0;-moz-user-select:none;\');e.push(this._config.clickable?"cursor:pointer;":"");e.push("width:"+this._config.size+"px;");e.push("height:"+this._config.size+"px;");e.push(\'"></div>\');return e.join("")},draw:function(hU){if(!this.domElement){return}hU=hU||{};if(hU.currentTarget){var hT=hU.currentTarget.zoomLevel;var i=hU.currentTarget.centerPoint}var T=this._getPixPos(hT,i);this.showInternal();this.domElement.style.left=T.x-this._config.size/2+"px";this.domElement.style.top=T.y-this._config.size/2+"px";if(this.map.getMapType()!=="B_EARTH_MAP"&&this.map._renderType!=="webgl"){this.initialize(this.map)}if(this.infoWindow!==null&&this.infoWindow.isOpen()){this.infoWindow.setPosition(hU.center,hU.zoom)}},showInternal:function(){if(cW.prototype.showInternal.call(this)===false){return false}if(!this._visible){return false}return true},hideInternal:function(e){if(cW.prototype.hideInternal.call(this,e)===false){return false}return true},getVertexInfoForGL:function(){var e=this.point;var hT=aG(e.lng);var i=aG(e.lat);var T=[];this._buildVertexForEachRender(hT,i,T);return{vertex:T}},_buildVertexForEachRender:function(hT,e,T){var i=g1.parseHexAndOpacityToRgbaArray(this._config.fillColor,this._config.fillOpacity);T.push([hT[0],e[0],hT[1],e[1],this._config.height,i[0]/255,i[1]/255,i[2]/255,i[3],this._config.size*a7(),this._config.shape])}});');