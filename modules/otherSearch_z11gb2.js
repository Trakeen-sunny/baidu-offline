/**/﻿_jsload&&_jsload('otherSearch', 'function fb(i,e){var T=document.createElement("script");T.onload=function(hT){T.parentNode.removeChild(T);e&&e(hT)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}D.extend(cT.prototype,{getCurrentPosition:function(hW,hZ){var hX=this;var T=false;hZ=hZ||{};hX.config={timeout:hZ.timeout||hX.config.timeout,maximumAge:hZ.maximumAge||hX.config.maximumAge,enableHighAccuracy:hZ.enableHighAccuracy||hX.config.enableHighAccuracy,SDKLocation:hZ.SDKLocation||hX.config.SDKLocation};var e=setTimeout(function(){if(T){return}hX.statusCode=BMAP_STATUS_TIMEOUT;i(null)},hX.config.timeout+2000);var hU=function(h0){if(T){return}if(e){clearTimeout(e);e=null}hX.geolocationInfo=h0;if(BMapGL===null){return}hW.apply(hX,arguments);T=true};var i=function(h0){if(T){return}if(e){clearTimeout(e);e=null}hX.geolocationInfo=h0;hW.apply(hX,arguments);T=true};function hY(h0){if(by.checkUsability()){var h1=new by({timeout:hX.config.timeout,maximumAge:hX.config.maximumAge,enableHighAccuracy:hX.config.enableHighAccuracy});h1.getCurrentPosition(function(h2){hU(h2)},function(h2){switch(h2.errorCode){case h2.ERR_PERMISSION_DENIED:case h2.ERR_INSECURE_ORIGINS:hX.statusCode=BMAP_STATUS_PERMISSION_DENIED;i(null);break;case h2.ERR_POSITION_UNAVAILABLE:hX.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;h0();break;case h2.ERR_TIMEOUT:hX.statusCode=BMAP_STATUS_TIMEOUT;h0();break}});return}}function hV(h0){if(aK.checkUsability()){var h1=new aK({});h1.getCurrentPosition(function(h2){hU(h2)},function(h2){h0()});return}h0()}function hT(h0){var h1=new gn({SDKLocation:hX.config.SDKLocation});h1.getCurrentPosition(function(h2){hU(h2)},function(){h0()})}hT(function(){hY(function(){hV(function(){hX.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});cT.prototype.getCurrentPosition=cT.prototype.getCurrentPosition;cT.prototype.getStatus=cT.prototype.getStatus;function by(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false}}by.checkUsability=function(){if(navigator.geolocation){return true}return false};D.extend(by.prototype,{getCurrentPosition:function(e,i){var hT=function(hV){if(/BIDUBrowser/i.test(navigator.userAgent)){var hY=new W();hY.getLocation(new hu(hV.coords["longitude"],hV.coords["latitude"]),function(hZ){var h0=new ar();h0.accuracy=hV.coords["accuracy"]>1999?1999:hV.coords["accuracy"];h0.longitude=hV.coords["longitude"];h0.latitude=hV.coords["latitude"];h0.point=new hu(h0.longitude,h0.latitude);if(hZ.addressComponents){if(hZ.addressComponents["province"]){h0.address.province=hZ.addressComponents["province"]}if(hZ.addressComponents["city"]){h0.address.city=hZ.addressComponents["city"]}if(hZ.addressComponents["district"]){h0.address.district=hZ.addressComponents["district"]}if(hZ.addressComponents["street"]){h0.address.street=hZ.addressComponents["street"]}if(hZ.addressComponents["streetNumber"]){h0.address.street_number=hZ.addressComponents["streetNumber"]}}e(h0)});return}var hX=Math.floor(Math.random()*100000);var hW="_cbk"+hX;window.baidu=window.baidu||{};window.baidu[hW]=function(h0){var hZ={x:h0.x,y:h0.y};var h3=new hu(hZ.x,hZ.y);var h2=new ar();h2.accuracy=hV.coords["accuracy"]>1999?1999:hV.coords["accuracy"];h2.longitude=h3.lng;h2.latitude=h3.lat;h2.point=new hu(h3.lng,h3.lat);var h1=new W();h1.getLocation(h3,function(h4){var h5=h4.addressComponents;if(h5){if(h5.province){h2.address.province=h5.province}if(h5.city){h2.address.city=h5.city}if(h5.district){h2.address.district=h5.district}if(h5.street){h2.address.street=h5.street}if(h5.streetNumber){h2.address.street_number=h5.streetNumber}}e(h2)})};var hU=["qt=coordtrans","x="+hV.coords["longitude"],"y="+hV.coords["latitude"],"from=0","to=4","callback=baidu."+hW];fb(e4.apiHost+"/?"+hU.join("&"))};var T=function(hU){var hV=new m();if(hU.code===hU.PERMISSION_DENIED&&hU.message.indexOf("secure")===-1){hV.errorCode=hV.ERR_PERMISSION_DENIED;hV.errorMessage="用户拒绝定位请求"}if(hU.code===hU.POSITION_UNAVAILABLE){hV.errorCode=hV.ERR_POSITION_UNAVAILABLE;hV.errorMessage="定位不可用"}if(hU.message.indexOf("secure")>-1){hV.errorCode=hV.ERR_INSECURE_ORIGINS;hV.errorMessage="定位请求需要https环境"}if(hU.code===hU.TIMEOUT){hV.errorCode=hV.ERR_TIMEOUT;hV.errorMessage="定位超时"}i(hV)};navigator.geolocation.getCurrentPosition(hT,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function aK(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}aK.checkUsability=function(){return true};D.extend(aK.prototype,{getCurrentPosition:function(T,hU){var hV=Math.floor(Math.random()*100000);var hT="_cbk"+hV;window[hT]=function(hW){if(hW.result){if(hW.result["error"]===161){if(hW.content&&hW.content["location"]){var hX=new ar();hX.accuracy=hW.content["radius"];hX.longitude=hW.content["location"]["lng"];hX.latitude=hW.content["location"]["lat"];hX.point=new hu(hW.content["location"]["lng"],hW.content["location"]["lat"])}if(hW.content&&hW.content["address_component"]){if(hW.content["address_component"]["country"]){hX.address.country=hW.content["address_component"]["country"]}if(hW.content["address_component"]["province"]){hX.address.province=hW.content["address_component"]["province"]}if(hW.content["address_component"]["city"]){hX.address.city=hW.content["address_component"]["city"]}if(hW.content["address_component"]["district"]){hX.address.district=hW.content["address_component"]["district"]}if(hW.content["address_component"]["street"]){hX.address.street=hW.content["address_component"]["street"]}if(hW.content["address_component"]["street_number"]){hX.address.street_number=hW.content["address_component"]["street_number"]}}T(hX);return}else{if(hW.result["error"]===0){if(hW.content&&hW.content["location"]){var hX=new ar();hX.longitude=hW.content["location"]["lng"];hX.latitude=hW.content["location"]["lat"];hX.point=new hu(hW.content["location"]["lng"],hW.content["location"]["lat"])}if(hW.content&&hW.content["address_component"]){if(hW.content["address_component"]["country"]){hX.address.country=hW.content["address_component"]["country"]}if(hW.content["address_component"]["province"]){hX.address.province=hW.content["address_component"]["province"]}if(hW.content["address_component"]["city"]){hX.address.city=hW.content["address_component"]["city"]}if(hW.content["address_component"]["district"]){hX.address.district=hW.content["address_component"]["district"]}if(hW.content["address_component"]["street"]){hX.address.street=hW.content["address_component"]["street"]}if(hW.content["address_component"]["street_number"]){hX.address.street_number=hW.content["address_component"]["street_number"]}}T(hX);return}}}var hY=new m();hY.errorCode=hY.ERR_POSITION_UNAVAILABLE;hY.errorMessage="请求IP地理定位信息失败";hU(hY)};var i="pc";if(f6()){i="mb"}var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:gf,qt:aQ,v:"3.0"};cC.request(function(hX,hW){window[hT](hX)},e)}});function gn(e){this.config={SDKLocation:e.SDKLocation||false}}D.extend(gn.prototype,{getCurrentPosition:function(i,hT){var hU=Math.floor(Math.random()*100000);var T="_cbk"+hU;window.baidu=window.baidu||{};window.baidu[T]=function(hW){hW=JSON.parse(hW);if(hW&&hW.errorcode===1){hU=Math.floor(Math.random()*100000);T="_cbk"+hU;window.baidu=window.baidu||{};window.baidu[T]=function(hY){var hX={x:hY.x,y:hY.y};var h1=new hu(hX.x,hX.y);var h0=new ar();h0.longitude=h1.lng;h0.latitude=h1.lat;h0.point=new hu(h1.lng,h1.lat);var hZ=new W();hZ.getLocation(h1,function(h2){var h3=h2.addressComponents;if(h3){if(h3.province){h0.address.province=h3.province}if(h3.city){h0.address.city=h3.city}if(h3.district){h0.address.district=h3.district}if(h3.street){h0.address.street=h3.street}if(h3.streetNumber){h0.address.street_number=h3.streetNumber}}i(h0)})};var hV=["qt=coordtrans","x="+hW.longitude,"y="+hW.latitude,"from=0","to=4","callback=baidu."+T];fb(e4.apiHost+"/?"+hV.join("&"))}else{hT()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{hT()}}});function ar(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function m(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}D.extend(W.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hT=this._queryList[T];this[hT.method].apply(this,hT.arguments)}delete this._queryList},getPoint:function(e,hU,hT){var T=this;hT=hT||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}cC.request(function(h5){if(h5&&h5.result&&h5.result["type"]==cG){var h7=h5.result;var h0=h5.content;var h4=null;var h6=null;if(h7){if(h7.error==0&&h0){var h2=h0.coord["x"];var h1=h0.coord["y"];var hW=h0.cn;var hX=h0.sc;var h3=h0.wd;var hY=h0.prc;var hZ=h0.fuzzy_score;var hV=h0.catalog;h4=new hu(h2,h1);h4=eo.convertMC2LL(h4);h6={city:hW,citycode:hX,address:h3,precise:hY,confidence:hZ,level:hV}}}hU&&hU(h4,h6)}},{qt:hG,wd:e,cn:hT})},getLocation:function(i,hX,hU){if(!(i instanceof hu||i instanceof c5)&&hX){hX(null);return}var hT=this;var i=eo.convertLL2MC(i);var e=i.lng;var hW=i.lat;var hU=hU||{};var T=hU.poiRadius||100;var hV=hU.numPois||10;cC.request(function(ie){var h1=null;if(ie&&ie.result&&ie.result["type"]==gi){var h4=ie.result;var ib=ie.content;var h3;var h5={};var h6=[];var h8;if(h4.error==0&&ib){var ig=ib.address_detail;var ic=ig.city;if(ig){h5.streetNumber=ig.street_number;h5.street=ig.street;h5.district=ig.district;h5.city=ic;h5.province=ig.province}h8=ib.point;var ia=new hu(h8.x,h8.y);ia=eo.convertMC2LL(ia);var h0=ib.surround_poi;if(h0&&h0.length){for(var id=0,h9=h0.length;id<h9;id++){var hZ={},h2=h0[id];hZ.title=h2.name;hZ.uid=h2.uid;var h7=new hu(h2.point["x"],h2.point["y"]);h7=eo.convertMC2LL(h7);hZ.point=h7;hZ.city=ic;hZ._poiType=h2.poiType;hZ.type=BMAP_POI_TYPE_NORMAL;hZ.address=h2.addr;hZ.postcode=h2.zip||null;hZ.phoneNumber=h2.tel||null;var hY=hZ._poiType;if(hY.length!==0){hZ.tags=hY.split(",")}h6.push(hZ)}}h1={point:ia,address:ib.address,addressComponents:h5,surroundingPois:h6,business:ib.business}}}hX&&hX(h1)},{qt:fM,x:e,y:hW,dis_poi:T,poi_num:hV,latest_admin:"1"})}});D.extend(gA.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hT=this._queryList[T];this[hT.method].apply(this,hT.arguments)}delete this._queryList},get:function(hT,e){var hV={};hV.boundaries=[];if(hT==="中国"||hT==="全国"||hT==="中华人民共和国"){e&&e(hV);return}var hW=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(hT==="台湾省"||hT==="台湾"){for(var hU=0;hU<6;hU++){hV.boundaries[hU]=T[hU]}hV.boundaries[6]=T[9];e&&e(hV)}if(hT==="钓鱼岛"){for(var hU=0;hU<1;hU++){hV.boundaries[hU]=T[6]}e&&e(hV)}if(hT==="赤尾屿"){for(var hU=0;hU<1;hU++){hV.boundaries[hU]=T[7]}e&&e(hV)}cC.request(function(i){if(i&&i.content&&i.content.uid){var hX=i.content.uid;cC.request(function(id){if(id&&id.content&&id.content["geo"]){var h2=P.parseGeo(id.content["geo"],false);if(h2.geo&&h2.geo.length&&h2.geo.length>0){var ij=h2.geo.length;for(il=0;il<ij;il++){var h1=h2.geo[il];if(h1&&h1.length&&h1.length>0){var ia=h1.length-1;var ii=[];var h9=false;var ih=0;var ig=0;for(var ik=0;ik<ia;ik+=2){var h7=h1[ik];var h4=h1[ik+1];var ie=new hu(h7,h4);ie=eo.convertMC2LL(ie);if(ik<ia-3){var hZ=h1[ik+2];var hY=h1[ik+3];var ic=new hu(hZ,hY);ic=eo.convertMC2LL(ic)}var ib=function(iq,ip){if(iq.lng>109&&iq.lng<113&&iq.lat>15&&iq.lat<19){if((iq.lng-ip.lng)>1&&(iq.lat-ip.lat<-1)){h9=true;ih=ik/2}if((iq.lng-ip.lng)<-1&&(iq.lat-ip.lat>1)){h9=true;ig=ik/2}}};if(hT.indexOf("全国")>-1||hT.indexOf("中国")>-1||hT.indexOf("中华人民共和国")>-1){var h6=function(ip){return((ip.lng>=117.546263&&ip.lng<=118.711042)&&(ip.lat>=38.697981&&ip.lat<=38.91302))};var h0=function(ip){return((ip.lng>=113.576516&&ip.lng<=113.638822)&&(ip.lat>=22.146067&&ip.lat<=22.156645))};if(h6(ie)||h0(ie)){ii.length=0;break}ib(ie,ic)}if(hT.indexOf("海南")>-1){ib(ie,ic)}ii.push(ie.lng+", "+ie.lat)}if(h9===true){if(ih>ig){var im=ih;ih=ig;ig=im}var h8=ii;var h5=ii.splice(ih+1);var h3=h5.splice(ig-ih);h8=h8.concat(h3);hV.boundaries.push(h8.join(";"));hV.boundaries.push(h5.join(";"));h9=false;continue}if(ii.length!==0){hV.boundaries.push(ii.join(";"))}}}}}var io=hV.boundaries.length;if((hT==="中国"||hT==="全国"||hT==="中华人民共和国")&&hV.boundaries.length>0){for(var il=0;il<T.length-1;il++){hV.boundaries[io+il]=T[il]}}e&&e(hV)},{qt:I,num:1000,l:10,uid:hX})}else{e&&e(hV)}},{qt:en,wd:hT})},_parseGeoSpecial:function(hW){var hZ=this;var hT=[];if(typeof(hW)!="string"){return hT}var T=hW.split("|");var h3=T[2];var hV=h3.split(";");for(var hX=0;hX<hV.length-1;hX++){var h2=hV[hX];var hY=[];var e=h2.split(",");for(var hU=0;hU<e.length;hU+=2){var h1=e[hU];var h0=e[hU+1];var h4=new hu(h1,h0);h4=eo.convertMC2LL(h4);hY.push(h4.lng+", "+h4.lat)}hT.push(hY.join(";"))}return hT}});D.extend(g2.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hT=this._queryList[T];this[hT.method].apply(this,hT.arguments)}delete this._queryList},getByRoadGrade:function(hV,hU,i){var T={};T.roadTraffic=[];var hV=hV||0;var e="";if(hU){e+=hU.ne.lat+","+hU.sw.lng+";";e+=hU.sw.lat+","+hU.ne.lng}var hT=this;cC.request(function(hY){if(hY){if(hY.status!==0){T.roadTraffic.push(hY.message);return}if(hY.road_traffic){for(var h0=0;h0<hY.road_traffic.length;h0++){var h1=hY.road_traffic[h0].traffic_detail;for(var hZ=0;hZ<h1.length;hZ++){var h2=h1[hZ].path;var h3=hT._makePoints(h2.split(/[^\\d\\.-]+/));var hX="#0db365";if(h1[hZ].status===1){hX="#0db365"}else{if(h1[hZ].status===2){hX="#debd04"}else{if(h1[hZ].status===3){hX="#f18505"}else{if(h1[hZ].status===4){hX="#f10918"}else{if(h1[hZ].status===5){hX="#bb0011"}}}}}if(h3.length>0){var hW=new BMapGL.Polyline(h3,{strokeColor:hX,strokeWeight:5,strokeOpacity:1});hT._map.addOverlay(hW)}}}}}i&&i(T)},{ak:"wLyfGqURcRTDOiGDGwDqS8tj6w2QXiTS",bounds:e,road_grade:hV},"","traffic/v1/bound")},getByRoadName:function(T,hU,e){var T=T||"";var hU=hU||"";var i={};i.roadNameTraffic=[];var hT=this;cC.request(function(hX){if(hX){if(hX.status!==0){i.roadNameTraffic.push(hX.message);return}if(hX.road_traffic){for(var hZ=0;hZ<hX.road_traffic.length;hZ++){var h0=hX.road_traffic[hZ].traffic_detail;for(var hY=0;hY<h0.length;hY++){var h1=h0[hY].path;var h2=hT._makePoints(h1.split(/[^\\d\\.-]+/));var hW="#0db365";if(h0[hY].status===1){hW="#0db365"}else{if(h0[hY].status===2){hW="#debd04"}else{if(h0[hY].status===3){hW="#f18505"}else{if(h0[hY].status===4){hW="#f10918"}else{if(h0[hY].status===5){hW="#bb0011"}}}}}if(h2.length>0){var hV=new BMapGL.Polyline(h2,{strokeColor:hW,strokeWeight:5,strokeOpacity:1});hT._map.addOverlay(hV)}}}}}e&&e(i)},{ak:"wLyfGqURcRTDOiGDGwDqS8tj6w2QXiTS",road_name:T,city:hU},"","traffic/v1/road")},_makePoints:function(hT){var T=new Array();for(var e=0;e<hT.length-1;e+=2){T.push(new hu(Number(hT[e]),Number(hT[e+1])))}return T}});D.extend(X.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hT=this._queryList[T];this[hT.method].apply(this,hT.arguments)}delete this._queryList},get:function(i){var e=this;cC.request(function(hV){if(hV&&hV.result&&hV.result["type"]==gq){var hT=hV.result,hX=hV.content;if(hT){if(hT.error==0){var hY=e._opts.renderOptions.map;var hZ=hX.level;var hU=hX.cname;var hW=hX.code;var T=P.parseGeo(hX.geo,true).point;hZ=P.getBestLevel(hZ,hY);if(hY){hY.centerAndZoom(T,hZ)}}}i&&i({center:T,level:hZ,name:hU,code:hW})}},{qt:ey})}});');